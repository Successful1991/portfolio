"use strict";var $={Particle:function(t){this.radius=2,this.x=t.x,this.y=t.y,this.angle=t.angle,this.speed=t.speed,this.accel=t.accel,this.decay=.004,this.life=.9}};$.Particle.prototype.step=function(t){this.speed+=this.accel,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed,this.angle+=$.PI/64,this.accel*=1.01,this.life-=this.decay,this.life<=0&&$.particles.splice(t,1)},$.Particle.prototype.draw=function(t){$.ctx.fillStyle=$.ctx.strokeStyle="hsla("+($.tick+120*this.life)+", 100%, 60%, "+this.life+")",$.ctx.beginPath(),$.particles[t-1]&&($.ctx.moveTo(this.x,this.y),$.ctx.lineTo($.particles[t-1].x,$.particles[t-1].y)),$.ctx.stroke(),$.ctx.beginPath(),$.ctx.arc(this.x,this.y,Math.max(.001,this.life*this.radius),0,$.TWO_PI),$.ctx.fill();var i=1.25*Math.random();$.ctx.fillRect(~~(this.x+35*(Math.random()-.5)*this.life),~~(this.y+35*(Math.random()-.5)*this.life),i,i)},$.step=function(){$.particles.push(new $.Particle({x:$.width/2+Math.cos($.tick/20)*$.min/2,y:$.height/2+Math.sin($.tick/20)*$.min/2,angle:$.globalRotation+$.globalAngle,speed:.55,accel:.002})),$.particles.forEach(function(t,i){t.step(i)}),$.globalRotation+=$.PI/6,$.globalAngle+=$.PI/6},$.draw=function(){$.ctx.clearRect(0,0,$.width,$.height),$.particles.forEach(function(t,i){t.draw(i)})},$.init=function(){$.canvas=document.createElement("canvas"),$.ctx=$.canvas.getContext("2d"),$.width=300,$.height=300,$.canvas.width=$.width*window.devicePixelRatio,$.canvas.height=$.height*window.devicePixelRatio,$.canvas.style.width=$.width+"px",$.canvas.style.height=$.height+"px",$.ctx.scale(window.devicePixelRatio,window.devicePixelRatio),$.min=.5*$.width,$.particles=[],$.globalAngle=0,$.globalRotation=0,$.tick=0,$.PI=Math.PI,$.TWO_PI=2*$.PI,$.ctx.globalCompositeOperation="lighter",document.getElementById("loader").appendChild($.canvas),$.loop()},$.loop=function(){requestAnimationFrame($.loop),$.step(),$.draw(),$.tick++};